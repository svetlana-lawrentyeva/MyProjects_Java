<html>
<head>
<meta charset=utf-8>
<script>

var canvas;
var down;
var context;

function init()
{
	canvas=document.getElementById("myCanvas");
	down=false;
	context=canvas.getContext("2d");

	canvas.onmousedown=mouseDown;
	canvas.onmouseup=mouseUp;
	canvas.onmousemove=mouseMove;
}

function mouseMove(e)
{
	if(down==true)
	{
		context.lineTo(e.clientX,e.clientY);
		context.stroke();
	}
}
function mouseUp(e)
{
	down=false;
}
function mouseDown(e)
{
	down=true;
	context.moveTo(e.clientX,e.clientY);
}

function showColorDialog() {
    var dHlpr = document.getElementById( 'dlgHelper');
    dHlpr.ChooseColorDlg();
</script>
</head>
<body onLoad="init()">
<table>
<tr>
<td>
<input type="button" onclick="showColorDialog()" value="Показать стандартный диалог выбора цвета">
<OBJECT id="dlgHelper" CLASSID="clsid:3050f819-98b5-11cf-bb82-00aa00bdce0b" width="0px" height="0px"></OBJECT>
</td>
<td>
<canvas id="myCanvas" width="900" height="500"></canvas>
</td>
</tr>
</table>
</body>
</html>
